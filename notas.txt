ðŸ¦º âœ…ðŸŽ¦ðŸ‘·â€â™€ï¸ðŸ‘·â€â™‚ï¸ðŸŽ«ðŸŽŸï¸ðŸŽžï¸ðŸ”§âš™ï¸ðŸ”–ðŸ·ï¸ðŸ¬ðŸ¿ðŸš§ðŸš¨ðŸš€â“â€¼ï¸âŒâš ï¸âœ…âŽðŸŸ¡ðŸŸ¢ðŸ”´ðŸŸ 


ðŸŽ¦ Peliculas

âœ…  GET /movies: Obtener una lista de pelÃ­culas en cartelera.
    GET /movies/{id}: Obtener los detalles de una pelÃ­cula especÃ­fica por su ID.
    GET /movies/genres/{genre}: Obtener una lista de pelÃ­culas por gÃ©nero.
âœ…   GET /movies/upcoming: Obtener una lista de prÃ³ximos estrenos de pelÃ­culas.

â° Horarios
    GET /showtimes: Obtener una lista de los horarios de proyecciÃ³n de las pelÃ­culas.
    GET /showtimes/{id}: Obtener los detalles de un horario de proyecciÃ³n especÃ­fico por su ID.

ðŸŽ« Tickets
    POST /bookings: Crear una nueva reserva de boletos.
    DELETE /bookings/{id}: Cancelar una reserva de boletos.
    PUT /bookings/{id}: Actualizar una reserva de boletos existente. ??

ðŸŽžï¸
    POST /reviews: Enviar una reseÃ±a de una pelÃ­cula.
    PUT /reviews/{id}: Actualizar una reseÃ±a de pelÃ­cula existente.
    DELETE /reviews/{id}: Elminar una reseÃ±a de pelÃ­cula.


    

// Ruta de ejemplo
app.post('/movies', async(req, res) => {
    try {
        const pelicula = await Pelicula.create(req.body)
        res.status(200).json(pelicula);
    } catch (error) {
        console.log(error);
        res.status(500).send({mesage: error.mesage});
    }
    
   
  });

  app.get('/movies', async(req, res) => {
    try {
        const peliculas = await Pelicula.find({})

        res.status(200).json(peliculas);
    } catch (error) {
        console.log(error);
        res.status(500).send({mesage: error.mesage});
    }
    
  });

  app.get('/movies/upcoming', async(req, res) => {
    try {
        const currentDate =  new Date()
        const upcomingMovies = await Pelicula.find({ estreno: { $gt: currentDate } }) 
        res.status(200).json(upcomingMovies);
    } catch (error) {
        
        res.status(500).send({mesage: error.mesage});
    }
  });
  
  app.get('/movies/:id', async(req, res) => {
    try {
        const {id} = req.params
        const movie = await Pelicula.findById(id)
        res.status(200).json(movie);
    } catch (error) {
       
        res.status(500).send({mesage: error.mesage});
    }
  });
  
// Puerto en el que se ejecutarÃ¡ el servidor
const port = 3000;

// app.listen(port, () => {
//     console.log(`Servidor Express iniciado en el puerto ${port}`);
// });